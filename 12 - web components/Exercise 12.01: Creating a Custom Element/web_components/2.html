<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Exercise 12.01: Creating a Custom Element</title>
  </head>
  <body>
    <main class="blog-posts">
      <article>
        <!-- add main-heading here -->
        <styled-text theme="dark">The castle stood tall.</styled-text>
        <styled-text theme="light">The castle stood tall.</styled-text>
        <styled-text theme="highlight">The castle stood tall.</styled-text>
      </article>
    </main>

    <script>
      class StyledText extends HTMLElement {
        constructor() {
          super();

          if (this.hasAttribute("theme")) {
            this.setStyle(this.theme);
          } else {
            this.theme = "light";
          }
        }

        setStyle(theme) {
          switch (theme) {
            case "highlight":
              this.style.color = "black";
              this.style.backgroundColor = "yellow";
              break;
            case "light":
              this.style.color = "black";
              this.style.backgroundColor = "white";
              break;
            case "dark":
              this.style.color = "white";
              this.style.backgroundColor = "black";
              break;
          }
        }

        get theme() {
          return this.getAttribute("theme");
        }

        set theme(newValue) {
          this.setAttribute("theme", newValue);
          this.setStyle(this.theme);
        }
      }

      customElements.define("styled-text", StyledText);
    </script>
  </body>
</html>
